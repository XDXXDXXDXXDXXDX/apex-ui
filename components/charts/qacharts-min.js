class t{constructor(){this.events={}}addEventListener(t,e=function(){}){this.events[t]=this.events[t]||[],this.events[t].push(e)}trigger(t,...e){this.events[t]&&this.events[t].forEach(t=>{try{t.apply(null,e)}catch(t){console.error(t)}})}}var e={animation:!0,animationDuration:1e3,animationTiming:"default",backgroundColor:"#ffffff",colors:["#7cb5ec","#f7a35c","#434348","#90ed7d","#f15c80","#8085e9"],label:{show:!0,fontSize:10,color:"auto",margin:5},legend:{show:!0,type:"default",marginTop:8,itemGap:15,shapeWidth:15,shapeHeight:15,textStyle:{fontSize:15,color:"#333333",padding:5}},padding:[20,20,20,20],bar:{barMaxWidth:20,barMinWidth:1,barWidth:"auto",barGap:5},pie:{center:["50%","50%"],radius:[0,"80%"],offsetAngle:0,disablePieStroke:!0,labelLine:{lineDotRadius:3,lineWidth:1,length1:25,length2:15}},scatter:{radius:10,opacity:1,lineWidth:0,strokeColor:"auto"},funnel:{width:"auto",height:"auto",top:"0%",left:"0%",right:"0%",bottom:"0%",max:100,min:0,gap:5,shape:"funnel",sort:"descending",funnelAlign:"center",label:{position:"inside"},itemStyle:{borderColor:"#ffffff",borderWidth:1}},line:{smooth:!1,connectNulls:!1,line:{show:!0,lineWidth:2,color:"auto",opacity:1},symbol:{show:!0,type:"circle",size:7,color:"auto"},area:{show:!1,color:"auto",opacity:.5}},radar:{line:{show:!0,lineWidth:1,color:"auto",opacity:1},area:{show:!1,color:"auto",opacity:.5},symbol:{show:!0,type:"circle",size:7,color:"auto"}},radarAxis:{shape:"polygon",center:["50%","50%"],radius:"80%",max:"auto",splitNumber:4,axisName:{show:!0,textStyle:{fontSize:15,color:"#666666",margin:10}},axisLine:{show:!0,lineStyle:{lineWidth:1,color:"#cccccc",opacity:1}},splitLine:{show:!0,lineStyle:{lineWidth:1,color:"#cccccc",opacity:1}},splitArea:{odd:{show:!0,color:"#f5f5f5",opacity:1},even:{show:!0,color:"#e6e6e6",opacity:1}}},yAxis:{show:!0,type:"value",max:"auto",min:"auto",splitNumber:4,axisName:{show:!0,text:"轴线名称",gap:10,textStyle:{color:"#666666",fontSize:15,align:"center"}},axisLabel:{show:!0,rotate:0,gap:5,textStyle:{color:"#666666",fontSize:12}},axisTick:{show:!0,length:5,lineStyle:{lineWidth:1,color:"#666666"}},axisLine:{show:!0,lineStyle:{lineWidth:1,color:"#666666"}},axisSplitLine:{show:!0,lineStyle:{lineWidth:1,color:"#dddddd"}}},xAxis:{show:!0,type:"category",boundaryGap:!0,axisName:{show:!0,text:"轴线名称",gap:10,textStyle:{color:"#666666",fontSize:15}},axisLabel:{show:!0,rotate:0,gap:5,textStyle:{color:"#666666",fontSize:12}},axisTick:{show:!0,alignWithLabel:!1,length:5,lineStyle:{lineWidth:1,color:"#666666"}},axisLine:{show:!0,lineStyle:{lineWidth:1,color:"#666666"}},axisSplitLine:{show:!0,alignWithLabel:!1,lineStyle:{lineWidth:1,color:"#dddddd"}}}};function a(t){let e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),a=parseInt(e[1],16),i=parseInt(e[2],16),l=parseInt(e[3],16);a/=255,i/=255,l/=255;let o,s,n=Math.max(a,i,l),r=Math.min(a,i,l),h=(n+r)/2;if(n==r)o=s=0;else{let t=n-r;switch(s=h>.5?t/(2-n-r):t/(n+r),n){case a:o=(i-l)/t+(i<l?6:0);break;case i:o=(l-a)/t+2;break;case l:o=(a-i)/t+4}o/=6}return s*=100,s=Math.round(s),h*=100,h=Math.round(h),o=Math.round(360*o),[o,s,h]}function i(t,e){let[a,i]=e;return{x:a+t.x,y:i-t.y}}function l(t,e,a){let i=!1;return t.x>0&&e.x>0?i=t.y+a>e.y:t.x<0&&e.x<0&&(i=t.y-a<e.y),i}function o(t){return t?(t=String(t).replace("%",""),t=Number(t)/100):t=0,t}function s(t){return"[object Object]"===Object.prototype.toString.call(t)}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t,e,a,i=!1){a[t]||0===a[t]||""===a[t]||"boolean"==typeof a[t]?i?s(e[t])?Object.keys(e[t]).forEach(l=>{r(l,e[t],a[t],i)}):n(e[t])?"series"==t?e[t].forEach((i,l)=>{Object.keys(i).forEach(i=>{r(i,e[t][l],a[t][l],!0)})}):a[t]=[].concat(e[t]):a[t]=e[t]:s(a[t])&&Object.keys(e[t]).forEach(l=>{r(l,e[t],a[t],i)}):s(e[t])?a[t]=Object.assign({},e[t]):n(e[t])?a[t]=[].concat(e[t]):a[t]=e[t]}function h(){let{config:t,opts:e}=this;switch(r("animation",t,e),r("animationDuration",t,e),r("animationTiming",t,e),r("backgroundColor",t,e),r("colors",t,e),r("padding",t,e),r("legend",t,e),e.type){case"bar":case"line":case"scatter":e.yAxis&&"category"==e.yAxis.type?(r("show",t.xAxis,e.yAxis),r("type",t.xAxis,e.yAxis),r("boundaryGap",t.xAxis,e.yAxis),r("axisName",t.xAxis,e.yAxis),r("axisLabel",t.xAxis,e.yAxis),r("axisTick",t.xAxis,e.yAxis),r("axisLine",t.xAxis,e.yAxis),r("axisSplitLine",t.xAxis,e.yAxis)):r("yAxis",t,e),e.xAxis&&"value"==e.xAxis.type?(r("show",t.yAxis,e.xAxis),r("type",t.yAxis,e.xAxis),r("max",t.yAxis,e.xAxis),r("min",t.yAxis,e.xAxis),r("splitNumber",t.yAxis,e.xAxis),r("axisName",t.yAxis,e.xAxis),r("axisLabel",t.yAxis,e.xAxis),r("axisTick",t.yAxis,e.xAxis),r("axisLine",t.yAxis,e.xAxis),r("axisSplitLine",t.yAxis,e.xAxis)):r("xAxis",t,e);case"radar":r("radarAxis",t,e)}x.call(this)}function x(){let{config:t,opts:e}=this;switch(e.type){case"bar":e.series.forEach(e=>{r("label",t,e),r("barMaxWidth",t.bar,e),r("barMinWidth",t.bar,e),r("barWidth",t.bar,e),r("barGap",t.bar,e)});break;case"line":e.series.forEach(e=>{r("label",t,e),r("smooth",t.line,e),r("connectNulls",t.line,e),r("line",t.line,e),r("symbol",t.line,e),r("area",t.line,e)});break;case"pie":e.series.forEach(e=>{r("label",t,e),r("center",t.pie,e),r("radius",t.pie,e),r("labelLine",t.pie,e),r("offsetAngle",t.pie,e),r("disablePieStroke",t.pie,e)});break;case"radar":e.series.forEach(e=>{r("label",t,e),r("line",t.radar,e),r("symbol",t.radar,e),r("area",t.radar,e)});break;case"scatter":e.series.forEach(e=>{r("label",t,e),r("color",t.scatter,e),r("radius",t.scatter,e),r("opacity",t.scatter,e),r("lineWidth",t.scatter,e),r("strokeColor",t.scatter,e)});break;case"funnel":e.series.forEach(e=>{r("label",t,e),r("position",t.funnel.label,e.label),r("width",t.funnel,e),r("height",t.funnel,e),r("top",t.funnel,e),r("left",t.funnel,e),r("right",t.funnel,e),r("bottom",t.funnel,e),r("max",t.funnel,e),r("min",t.funnel,e),r("gap",t.funnel,e),r("sort",t.funnel,e),r("shape",t.funnel,e),r("funnelAlign",t.funnel,e),r("itemStyle",t.funnel,e)})}}var c={easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},linear:function(t){return t}};class y{constructor(t){this.isStop=!1;let{type:e,animation:a,animationDuration:i,animationTiming:l,onProcess:o,onAnimationFinish:s}=t,n="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setTimeout?function(t){setTimeout((function(){let e=+new Date;t(e)}),17)}:void 0;if(a){if("default"==l)switch(e){case"bar":case"line":case"scatter":l="easeIn";break;case"pie":case"radar":case"funnel":l="easeInOut"}let a=c[l],r=null,h=function(){if(!0===this.isStop)return o(1),void s();let e=+new Date;if(r||(r=e),e-r<i){let l=(e-r)/i;l=a(l),t.onProcess(l),n(h)}else o(1),s()};h=h.bind(this),n(h)}else o(1),s()}stop(){this.isStop=!0}}function f(){let{type:t,colors:e,series:a}=this.opts;const i=e.length;"funnel"==t&&a[0].data.sort((t,e)=>"descending"==a[0].sort?e.value-t.value:t.value-e.value),"pie"!=t&&"funnel"!=t||a.forEach(t=>{t.data.forEach((t,a)=>{t.itemStyle=t.itemStyle||{},t.itemStyle.color||(t.itemStyle.color=e[a%i])})}),a.forEach((t,a)=>{t.itemStyle=t.itemStyle||{},t.itemStyle.color||(t.itemStyle.color=e[a%i])})}function u(){if(this.opts.legend.show){let{context:t,opts:e}=this,{type:a,width:i,legend:l,series:o}=e,{shapeWidth:s,shapeHeight:n,itemGap:r,marginTop:h,textStyle:x}=l,{fontSize:c,padding:y}=x,f=[],u=0,d=0,p=[],g=[];t.font=`${c}px`,f="pie"==a||"funnel"==a?o[0].data:o,f.forEach(t=>{let{name:e,itemStyle:a}=t,l=this.context.measureText(e||"").width,o=s+y+r+l,n={name:e,measureText:l,color:"string"==typeof a.color?a.color:"#000000"};d+o>i?(p.push(g),d=o,g=[n]):(d+=o,u=Math.max(u,d),g.push(n))}),0==p.length&&p.push(g),this.legendData={legendList:p,legendWidth:u-r,legendHeight:p.length*Math.max(n,c)+(p.length-1)*r+h}}else this.legendData={legendList:[],legendWidth:0,legendHeight:0};this.legendData}function d(){let t,e,a,i,l,o,s,n,r,h,x,c,y,f,u,d,{context:p,opts:g,legendData:b,chartData:S}=this,{width:m,height:w,padding:A,xAxis:P,yAxis:D,series:M}=g,{show:v,type:k,data:T,boundaryGap:E,max:W,min:L,splitNumber:N,format:z,axisName:X,axisLabel:Y,axisTick:I,axisLine:O,axisSplitLine:B}=P,{show:_,type:J,data:$,boundaryGap:R,max:H,min:j,splitNumber:C,format:G,axisName:F,axisLabel:Z,axisTick:q,axisLine:K,axisSplitLine:Q}=D,{show:U,textStyle:V,gap:tt,text:et}=X,{show:at,textStyle:it,gap:lt,rotate:ot,showIndex:st}=Y,{show:nt,lineStyle:rt,length:ht,alignWithLabel:xt,showIndex:ct}=I,{show:yt,lineStyle:ft}=O,{show:ut,lineStyle:dt,alignWithLabel:pt,showIndex:gt}=B,{show:bt,textStyle:St,gap:mt,text:wt}=F,{show:At,textStyle:Pt,gap:Dt,showIndex:Mt}=Z,{show:vt,lineStyle:kt,length:Tt,alignWithLabel:Et,showIndex:Wt}=q,{show:Lt,lineStyle:Nt}=K,{show:zt,lineStyle:Xt,alignWithLabel:Yt,showIndex:It}=Q,{fontSize:Ot}=V,{fontSize:Bt}=it,{lineWidth:_t}=rt,{lineWidth:Jt}=ft,{lineWidth:$t}=dt,{fontSize:Rt}=St,{fontSize:Ht}=Pt,{lineWidth:jt}=kt,{lineWidth:Ct}=Nt,{lineWidth:Gt}=Xt,Ft=A[3],Zt=m-A[1],qt=w-A[2]-b.legendHeight,Kt=A[0],Qt=Ft,Ut=qt,Vt=!0,te=!0;function ee(t="x"){let e=[];if("value"==k&&"value"==J)e=M.reduce((e,a)=>{let i=a.data.reduce((e,a)=>(e.push(a[t]),e),[]);return e.concat(i)},[]);else{let t={};JSON.parse(JSON.stringify(M)).forEach(e=>{e.stack?(t[e.stack]||(t[e.stack]=[]),t[e.stack].push(e.data)):(t[e.name]||(t[e.name]=[]),t[e.name].push(e.data))}),Object.keys(t).forEach(a=>{if(t[a].length>1){let i=t[a].reduce((t,e)=>(0==t.length?t=e:e.forEach((e,a)=>{t[a]+=e}),t),[]);e=e.concat(i)}else{let i=t[a][0];e=e.concat(i)}})}let a=[],i="x"==t?N:C,l="x"==t?W:H,o="x"==t?L:j,s=Math.max(...e),n=Math.min(...e),r=0,h=0,p=1,g=1;l="auto"==l?l:Number(l),o="auto"==o?o:Number(o),"auto"==l||"auto"==o?(s="auto"==l?s<=0&&n<=0?0:s:l,n="auto"==o?s>=0&&n>=0?0:n:o,r=s-n):(s=l,n=o,r=s-n);let b=!(s>0&&n<0);for(p=r>=1e4?1e3:r>=1e3?100:r>=100?10:r>=10?5:r>=1?.1:r>=.1?.01:r>=.01?.001:r>=.001?1e-4:1e-5;p<1;)p*=10,g*=10;if("auto"==l&&"auto"==o)if(s>=0&&n>=0){for(r*=g,h=Math.ceil(r/i);h%p!=0;)h+=1;h/=g,r=h*i,s=n+r}else if(s<=0&&n<=0){for(r*=g,h=Math.floor(r/i);h%p!=0;)h+=1;h/=g,r=h*i,n=s-r}else{for(r*=g,h=Math.ceil(r/i);h%p!=0;)h+=1;h/=g,a.push(0);let t=0;for(;t<s;)t+=h,a.push(t);for(s=t,t=0;t>n;)t-=h,a.unshift(t);n=t,r=s-n}if("auto"==l&&"number"==typeof o)if(s>=0&&n>=0){for(r*=g,h=Math.ceil(r/i);h%p!=0;)h+=1;h/=g,r=h*i,s=n+r}else if(s<=0&&n<=0)r*=g,h=Number((r/i).toFixed(2)),h/=g,r=h*i;else{for(r*=g,h=Math.ceil(r/i);h%p!=0;)h+=1;h/=g,a.push(0);let t=0;for(;t<s;)t+=h,a.push(t);for(s=t,t=0;t-h>n;)t-=h,a.unshift(t);a.unshift(n),r=s-n}if("number"==typeof l&&"auto"==o)if(s>=0&&n>=0)r*=g,h=Number((r/i).toFixed(2)),h/=g,r=h*i;else if(s<=0&&n<=0){for(r*=g,h=Math.floor(r/i);h%p!=0;)h+=1;h/=g,r=h*i,n=s-r}else{for(r*=g,h=Math.ceil(r/i);h%p!=0;)h+=1;h/=g,a.push(0);let t=0;for(;t+h<s;)t+=h,a.push(t);for(a.push(s),t=0;t>n;)t-=h,a.unshift(t);n=t,r=s-n}if("number"==typeof l&&"number"==typeof o)if(s>=0&&n>=0)h=Number((r/i).toFixed(2));else if(s<=0&&n<=0)h=Number((r/i).toFixed(2));else{for(r*=g,h=Math.ceil(r/i);h%p!=0;)h+=1;h/=g,a.push(0);let t=0;for(;t+h<s;)t+=h,a.push(t);for(a.push(s),t=0;t-h>n;)t-=h,a.unshift(t);a.unshift(n),r=s-n}if(b)for(let t=0;t<=i;t++){let e=n+h*t;e=e.toFixed(g.toString().length-1),a.push(Number(e))}return"x"==t?(d=r,f=s,u=n,te=b):(y=r,x=s,c=n,Vt=b),a}S.axisData={xStart:null,xEnd:null,yStart:null,yEnd:null,yIsSamePart:null,xIsSamePart:null,yZero:null,yPlusSpacing:null,yMinusSpacing:null,ySpacing:null,yEachSpacing:null,xZero:null,xPlusSpacing:null,xMinusSpacing:null,xSpacing:null,xEachSpacing:null,yMaxData:null,yMinData:null,yDataRange:null,xMaxData:null,xMinData:null,xDataRange:null,xAxisLabelPoint:[],xAxisTickPoint:[],xAxisLinePoint:{},xAxisSplitLinePoint:[],xAxisNamePoint:{},yAxisLabelPoint:[],yAxisTickPoint:[],yAxisLinePoint:{},yAxisSplitLinePoint:[],yAxisNamePoint:{}};let ae="category"==k?T:ee("x"),ie="category"==J?$:ee("y");p.font=`${Bt}px`;let le=0,oe=0,se=ae.reduce((t,e,a)=>{let i=z?z(e):e;return le=Math.max(p.measureText(i).width,le),t.push(i),t},[]);ot=Number(ot),oe=0==ot?Bt:Math.abs(le*Math.sin(ot*Math.PI/180))+Math.abs(Bt*Math.cos(ot*Math.PI/180)),p.font=`${Ht}px`;let ne=0,re=ie.reduce((t,e,a)=>{let i=G?G(e):e;return ne=Math.max(p.measureText(i).width,le),t.push(i),t},[]),he=0;he="category"==k&&E?ae.length:ae.length-1;let xe=0;if(xe="category"==J&&R?ie.length:ie.length-1,v&&at&&(qt-=oe+lt),v&&nt&&("value"==J&&Vt||"category"==J)&&(qt-=ht),Vt?v&&yt&&(qt-=Jt/2):v&&ut&&(qt-=$t/2),_&&bt&&(Kt+=Rt+mt),i=qt-Kt,l=Math.floor(i/xe),Kt=qt-l*xe,i=qt-Kt,At&&(Ft+=ne+Dt),_&&vt&&("value"==k&&te||"category"==k)&&(Ft+=Tt),te?_&&Lt&&(Ft+=Ct/2):_&&zt&&(Ft+=Gt/2),v&&U){p.font=`${Ot}px`;let t=p.measureText(et).width;Zt-=t+tt}if(r=Zt-Ft,h=Math.floor(r/he),Zt=Ft+h*he,r=Zt-Ft,"value"!=J||Vt||ie.reduce((l,o,s)=>{if(0==s)l.push({y:qt});else{let t=Math.abs(ie[s-1]-ie[s])*i/y;l.push({y:l[s-1].y-t})}return 0==o&&(t=l[s].y),s+1==ie.length&&(Kt=l[s].y,i=qt-Kt,e=t-Kt,a=qt-t),l},[]),"value"!=k||te||ae.reduce((t,e,a)=>{if(0==a)t.push({x:Ft});else{let e=Math.abs(ae[a]-ae[a-1])*r/d;t.push({x:t[a-1].x+e})}return 0==e&&(o=t[a].x),a+1==ae.length&&(Zt=t[a].x,r=Zt-Ft,s=Zt-o,n=o-Ft),t},[]),"value"==J){let t=Qt;if(_&&At&&(t+=ne),S.axisData.yAxisLabelPoint=re.reduce((e,a,l)=>{if(0==l)e.push({text:a,x:t,y:qt});else{let o=Math.abs(ie[l-1]-ie[l])*i/y;e.push({text:a,x:t,y:e[l-1].y-o})}return e},[]),_&&zt){let t=Qt;_&&At&&(t+=ne+Dt),_&&vt&&te&&(t+=Tt),S.axisData.yAxisSplitLinePoint=S.axisData.yAxisLabelPoint.reduce((e,a,i)=>(e.push({startX:t,startY:a.y,endX:Zt,endY:a.y}),e),[])}if(_&&vt){let t=Qt;te?_&&At&&(t+=ne+Dt):t=o-Jt/2-Tt,S.axisData.yAxisTickPoint=S.axisData.yAxisLabelPoint.reduce((e,a,i)=>(e.push({startX:t,startY:a.y,endX:t+Tt,endY:a.y}),e),[])}if(_&&Lt){let t=Qt;te?(_&&At&&(t+=ne+Dt),_&&vt&&(t+=Tt),t+=Ct/2):t=o,S.axisData.yAxisLinePoint={startX:t,startY:qt,endX:t,endY:Kt-jt/2}}if(_&&bt){let t=Qt;te?(_&&At&&(t+=ne+Dt),_&&vt&&(t+=Tt),_&&Lt&&(t+=Ct/2)):t=o,S.axisData.yAxisNamePoint={text:wt,x:t,y:Kt-mt}}}if("value"==k){let e=Ut;if(v&&at&&(e-=oe),S.axisData.xAxisLabelPoint=se.reduce((t,a,i)=>{if(0==i)t.push({text:a,x:Ft,y:e});else{let l=Math.abs(ae[i]-ae[i-1])*r/d;t.push({text:a,x:t[i-1].x+l,y:e})}return t},[]),v&&ut){let t=Ut;v&&at&&(t-=oe+lt),v&&nt&&Vt&&(t-=ht),S.axisData.xAxisSplitLinePoint=S.axisData.xAxisLabelPoint.reduce((e,a,i)=>(e.push({startX:a.x,startY:t,endX:a.x,endY:Kt}),e),[])}if(v&&nt){let e=Ut;Vt?_&&At&&(e-=oe+lt):e=t+Jt/2+Tt,S.axisData.xAxisTickPoint=S.axisData.xAxisLabelPoint.reduce((t,a,i)=>(t.push({startX:a.x,startY:e,endX:a.x,endY:e-ht}),t),[])}if(v&&yt){let e=Ut;Vt?(v&&at&&(e-=oe+lt),v&&nt&&(e-=ht),e-=Jt/2):e=t,S.axisData.xAxisLinePoint={startX:Ft,startY:e,endX:Zt+_t/2,endY:e}}if(v&&U){let e=Ut;te?(v&&at&&(e-=oe+lt),v&&nt&&(e-=ht),v&&yt&&(e-=Jt/2)):e=t,S.axisData.xAxisNamePoint={text:et,x:Zt+tt,y:e}}}if("category"==J){if(S.axisData.yAxisLabelPoint=re.reduce((t,e,a)=>{let i=Qt;return _&&At&&(i+=ne),R?t.push({show:!0,text:e,x:i,y:qt-l*(a+1)+l/2}):t.push({show:!0,text:e,x:i,y:qt-l*a}),t},[]),Mt&&Mt.length&&(S.axisData.yAxisLabelPoint=S.axisData.yAxisLabelPoint.map((t,e)=>{let a=Mt.some(t=>t===e);return t.show=!!a,t})),_&&zt){let t=Qt;_&&At&&(t+=ne+Dt),_&&vt&&te&&(t+=Tt);let e=0;e=R?Yt?ie.length:ie.length+1:ie.length;for(let a=0;a<e;a++)R&&Yt?S.axisData.yAxisSplitLinePoint.push({show:!0,startX:t,startY:qt-l*a-l/2,endX:Zt,endY:qt-l*a-l/2}):S.axisData.yAxisSplitLinePoint.push({show:!0,startX:t,startY:qt-l*a,endX:Zt,endY:qt-l*a})}if(It&&It.length&&(S.axisData.yAxisSplitLinePoint=S.axisData.yAxisSplitLinePoint.map((t,e)=>{let a=It.some(t=>t===e);return t.show=!!a,t})),_&&vt){let t=Qt;te?_&&At&&(t+=ne+Dt):t=o-Ct/2-Tt;let e=0;e=R?Et?ie.length:ie.length+1:ie.length;for(let a=0;a<e;a++)R&&Et?S.axisData.yAxisTickPoint.push({show:!0,startX:t,startY:qt-l*a-l/2,endX:t+Tt,endY:qt-l*a-l/2}):S.axisData.yAxisTickPoint.push({show:!0,startX:t,startY:qt-l*a,endX:t+Tt,endY:qt-l*a})}if(Wt&&Wt.length&&(S.axisData.yAxisTickPoint=S.axisData.yAxisTickPoint.map((t,e)=>{let a=Wt.some(t=>t===e);return t.show=!!a,t})),_&&Lt){let t=Qt;te?(_&&At&&(t+=ne+Dt),_&&vt&&(t+=Tt),t+=Ct/2):t=o,S.axisData.yAxisLinePoint={startX:t,startY:qt,endX:t,endY:Kt-jt/2}}if(_&&bt){let t=Qt;te?(_&&At&&(t+=ne+Dt),_&&vt&&(t+=Tt),_&&Lt&&(t+=Ct/2)):t=o,S.axisData.yAxisNamePoint={text:wt,x:t,y:Kt-mt}}}if("category"==k){if(S.axisData.xAxisLabelPoint=se.reduce((t,e,a)=>{let i=Ut;return v&&at&&(i-=oe),E?t.push({show:!0,text:e,x:Ft+h*(a+1)-h/2,y:i}):t.push({show:!0,text:e,x:Ft+h*a,y:i}),t},[]),st&&st.length&&(S.axisData.xAxisLabelPoint=S.axisData.xAxisLabelPoint.map((t,e)=>{let a=st.some(t=>t===e);return t.show=!!a,t})),v&&ut){let t=Ut;v&&at&&(t-=oe+lt),v&&nt&&Vt&&(t-=ht);let e=0;e=E?pt?ae.length:ae.length+1:ae.length;for(let a=0;a<e;a++)E&&pt?S.axisData.xAxisSplitLinePoint.push({show:!0,startX:Ft+h*a+h/2,startY:t,endX:Ft+h*a+h/2,endY:Kt}):S.axisData.xAxisSplitLinePoint.push({show:!0,startX:Ft+h*a,startY:t,endX:Ft+h*a,endY:Kt})}if(gt&&gt.length&&(S.axisData.xAxisSplitLinePoint=S.axisData.xAxisSplitLinePoint.map((t,e)=>{let a=gt.some(t=>t===e);return t.show=!!a,t})),v&&nt){let e=Ut;Vt?(v&&at&&(e-=oe+lt),v&&nt&&(e-=ht)):e=t-Jt/2;let a=0;a=E?xt?ae.length:ae.length+1:ae.length;for(let t=0;t<a;t++)E&&xt?S.axisData.xAxisTickPoint.push({show:!0,startX:Ft+h*t+h/2,startY:e,endX:Ft+h*t+h/2,endY:e+ht}):S.axisData.xAxisTickPoint.push({show:!0,startX:Ft+h*t,startY:e,endX:Ft+h*t,endY:e+ht})}if(ct&&ct.length&&(S.axisData.xAxisTickPoint=S.axisData.xAxisTickPoint.map((t,e)=>{let a=ct.some(t=>t===e);return t.show=!!a,t})),v&&yt){let e=Ut;Vt?(v&&at&&(e-=oe+lt),v&&nt&&(e-=ht),e-=Jt/2):e=t,S.axisData.xAxisLinePoint={startX:Ft,startY:e,endX:Zt+_t/2,endY:e}}if(v&&U){let e=Ut;Vt?(v&&at&&(e-=oe+lt),v&&nt&&(e-=ht),v&&yt&&(e-=Jt/2)):e=t,S.axisData.xAxisNamePoint={text:et,x:Zt+tt,y:e}}}S.axisData.xStart=Ft,S.axisData.xEnd=Zt,S.axisData.yStart=qt,S.axisData.yEnd=Kt,S.axisData.yIsSamePart=Vt,S.axisData.xIsSamePart=te,S.axisData.yZero=t,S.axisData.yPlusSpacing=e,S.axisData.yMinusSpacing=a,S.axisData.ySpacing=i,S.axisData.yEachSpacing=l,S.axisData.xZero=o,S.axisData.xPlusSpacing=s,S.axisData.xMinusSpacing=n,S.axisData.xSpacing=r,S.axisData.xEachSpacing=h,S.axisData.yMaxData=x,S.axisData.yMinData=c,S.axisData.yDataRange=y,S.axisData.xMaxData=f,S.axisData.xMinData=u,S.axisData.xDataRange=d,this.chartData.axisData}function p(){let{context:t,opts:e,legendData:a,chartData:l}=this,{width:s,height:n,padding:r,radarAxis:h,categories:x}=e,{center:c,radius:y,splitNumber:f,axisName:u}=JSON.parse(JSON.stringify(h)),{show:d,textStyle:p}=u,{fontSize:g,margin:b}=p,[S,m]=c;l.radarAxis={center:[],radius:0,lineEndPosition:[],namePosition:[]},"string"==typeof S&&(S=s*o(S)),"string"==typeof m&&(m=(n-a.legendHeight-r[2])*o(m)),"string"==typeof y&&(y=(n-a.legendHeight-r[2])*o(y)/2),l.radarAxis.center=[S,m],l.radarAxis.radius=y;let w=2*Math.PI/x.length,A=Math.PI/2,P=[];for(let t=0;t<f;t++){let e=(f-t)/f;P[t]=x.reduce((t,a,o)=>{let s={x:y*Math.cos(A+w*o)*e,y:y*Math.sin(A+w*o)*e};return t.push(i(s,l.radarAxis.center)),t},[])}l.radarAxis.lineEndPosition=P,d&&(l.radarAxis.namePosition=x.reduce((e,a,o)=>{let s={x:(y+g/2+b)*Math.cos(A+w*o),y:(y+g/2+b)*Math.sin(A+w*o)},n=i(s,l.radarAxis.center);return t.font=`${g}px`,e.push({text:a,point:s,position:n}),e},[])),this.chartData.radarAxis}function g(){let{opts:t,chartData:e}=this,{series:a,xAxis:i,yAxis:l}=t,{xStart:o,xEnd:s,yStart:n,yEnd:r,yZero:h,yPlusSpacing:x,yMinusSpacing:c,ySpacing:y,yEachSpacing:f,xZero:u,xPlusSpacing:d,xMinusSpacing:p,xSpacing:g,xEachSpacing:b,yMaxData:S,yMinData:m,yDataRange:w,xMaxData:A,xMinData:P,xDataRange:D,xAxisLabelPoint:M,yAxisLabelPoint:v}=e.axisData,k=0,T=0,E=0,W="value"==i.type?A:S,L="value"==i.type?P:m,N="value"==i.type?D:w,z="value"==i.type?d:x,X="value"==i.type?p:c,Y="value"==i.type?g:y,I="category"==i.type?b:f,O="category"==i.type?i.data:l.data,B={};a.forEach(t=>{t.stack?(B[t.stack]||(B[t.stack]=[]),B[t.stack].push(t)):(B[t.name]||(B[t.name]=[]),B[t.name].push(t))});let _=[];for(let t=0,e=O.length;t<e;t++){let t=[];Object.keys(B).forEach(e=>{t.push(B[e])}),_.push(t)}e.chartBar=JSON.parse(JSON.stringify(_)).map((t,e)=>(t.forEach((t,a)=>{t.forEach((a,i)=>{let l=!0;if(a.showIndex&&a.showIndex.length&&(l=a.showIndex.some(t=>t==chartBarArrIndex)),a.show=l,a.data=a.data[e],0==i){let{barMaxWidth:t,barMinWidth:i,barWidth:l,barGap:o}=a;"number"==typeof l?(l>t&&(a.barWidth=t),l<i&&(a.barWidth=i),0==e&&(E+=a.barWidth)):0==e&&T++}else a.barWidth=t[0].barWidth}),0==e&&(E+=0==a?2*t[0].barGap:t[0].barGap)}),t)),k=E+T<I?(I-E)/T:1,e.chartBar.forEach((t,e)=>{t.forEach((t,a)=>{t.forEach((a,i)=>{let{barMaxWidth:l,barWidth:o}=a;0==i&&"auto"==o?a.barWidth=k>l?l:k:(a.barWidth=t[0].barWidth,a.barGap=t[0].barGap),0==e&&0==i&&"auto"==o&&(E+=a.barWidth)})})}),"category"==i.type?e.chartBar.forEach((t,e)=>{let a=M[e].x-E/2;t.forEach((t,e)=>{a+=t[0].barGap+t[0].barWidth/2;let i=0,l=0;W>=0&&L>=0?i=n:W<=0&&L<=0?l=r:(i=h,l=h),t.forEach((t,e)=>{t.x=a;let o=0;W>=0&&L>=0?0==t.data?(t.y=n,o=0):(t.y=i,o=Y*(t.data-L)/N,i-=o):W<=0&&L<=0?0==t.data?(t.y=r,o=0):(t.y=l,o=Y*(Math.abs(t.data)-Math.abs(W))/N,l+=o):t.data>0?(t.y=i,o=z*t.data/W,i-=o):t.data<0?(t.y=l,o=X*Math.abs(t.data)/Math.abs(L),l+=o):(t.y=h,o=0),t.barHeight=o}),a+=t[0].barWidth/2})}):e.chartBar.forEach((t,e)=>{let a=v[e].y+E/2;t.forEach((t,e)=>{a-=t[0].barGap+t[0].barWidth/2;let i=0,l=0;W>=0&&L>=0?i=o:W<=0&&L<=0?l=s:(i=u,l=u),t.forEach((t,e)=>{t.y=a;let o=0;W>=0&&L>=0?(t.x=i,o=Y*(t.data-L)/N,i+=o):W<=0&&L<=0?(t.x=l,o=Y*(Math.abs(t.data)-Math.abs(W))/N,l-=o):t.data>0?(t.x=i,o=z*t.data/W,i+=o):(t.x=l,o=X*Math.abs(t.data)/Math.abs(L),l-=o),t.barHeight=o}),a-=t[0].barWidth/2})}),this.chartData.chartBar}function b(){let{opts:t,chartData:e}=this,{series:a,xAxis:i}=t,{xStart:l,xEnd:o,yStart:s,yEnd:n,yZero:r,yPlusSpacing:h,yMinusSpacing:x,ySpacing:c,xZero:y,xPlusSpacing:f,xMinusSpacing:u,xSpacing:d,yMaxData:p,yMinData:g,yDataRange:b,xMaxData:S,xMinData:m,xDataRange:w,xAxisLabelPoint:A,yAxisLabelPoint:P}=e.axisData,D="value"==i.type?S:p,M="value"==i.type?m:g,v="value"==i.type?w:b,k="value"==i.type?f:h,T="value"==i.type?u:x,E="value"==i.type?d:c;"category"==i.type?e.chartLine=JSON.parse(JSON.stringify(a)).reduce((t,e)=>(e.data=e.data.reduce((t,e,a)=>{let i=0,l=0;return e=(e=e>D?D:e)<M?M:e,D>=0&&M>=0?(i=E*(e-M)/v,l=s-i):D<=0&&M<=0?(i=E*(Math.abs(e)-Math.abs(D))/v,l=n+i):e>0?(i=k*e/D,l=r-i):(i=T*Math.abs(e)/Math.abs(M),l=r+i),t.push({x:A[a].x,y:l,data:e,height:i}),t},[]),t.push(e),t),[]):e.chartLine=JSON.parse(JSON.stringify(a)).reduce((t,e)=>(e.data=e.data.reduce((t,e,a)=>{let i=0,s=0;return e=(e=e>D?D:e)<M?M:e,D>=0&&M>=0?(i=E*(e-M)/v,s=l+i):D<=0&&M<=0?(i=E*(Math.abs(e)-Math.abs(D))/v,s=o-i):e>0?(i=k*e/D,s=y+i):(i=T*Math.abs(e)/Math.abs(M),s=y-i),t.push({x:s,y:P[a].y,data:e,height:i}),t},[]),t.push(e),t),[]),this.chartData.chartLine}function S(){let{opts:t,legendData:e,chartData:a}=this,{width:i,height:l,series:s,padding:n}=t;a.chartPie=JSON.parse(JSON.stringify(s[0]));let{data:r,center:h,radius:x}=a.chartPie,[c,y]=h,[f,u]=x,d=0;d=r.reduce((t,e)=>t+=null===e.value?0:e.value,0),a.chartPie.valueSum=d,"string"==typeof c&&(c=i*o(c)),"string"==typeof y&&(y=(l-e.legendHeight-n[2])*o(y)),"string"==typeof f&&(f=(l-e.legendHeight-n[2])*o(f)/2),"string"==typeof u&&(u=(l-e.legendHeight-n[2])*o(u)/2),a.chartPie.center=[c,y],a.chartPie.radius=[f,u],this.chartData.chartPie}function m(){let{opts:t,chartData:e}=this,{radarAxis:a,categories:i,series:l}=t,{max:o}=a,{radius:s}=e.radarAxis,n=0;l.forEach(t=>{n=Math.max(n,...t.data)}),n="auto"==o?n:o;let r=2*Math.PI/i.length,h=Math.PI/2;e.chartRadar=JSON.parse(JSON.stringify(l)),e.chartRadar.map(t=>(t.dataPosition=t.data.reduce((t,e,a)=>{let i=e/n,l={x:s*Math.cos(h+r*a)*i,y:s*Math.sin(h+r*a)*i};return t.push({data:e,point:l}),t},[]),t)),this.chartData.chartRadar}function w(){let{opts:t,chartData:e}=this,{series:i}=t,{xStart:l,xEnd:o,yStart:s,yEnd:n,yZero:r,yPlusSpacing:h,yMinusSpacing:x,ySpacing:c,xZero:y,xPlusSpacing:f,xMinusSpacing:u,xSpacing:d,yMaxData:p,yMinData:g,yDataRange:b,xMaxData:S,xMinData:m,xDataRange:w}=e.axisData;e.chartScatter=JSON.parse(JSON.stringify(i)).map(t=>{let e,i,A,P,D,M,v,k,T,{data:E,radius:W,itemStyle:L}=t,{color:N}=L;if("number"!=typeof W){e=W[1],i=W[0],A=e-i;let t=E.concat([]).sort((t,e)=>t.z-e.z);P=t[t.length-1].z,D=t[0].z?t[0].z:0,M=P-D}if("string"!=typeof N){let[e,i]=N;v=a(i),k=a(e),T=[v[0]-k[0],v[1]-k[1],v[2]-k[2]],t.label.color="#000000"}return t.data=E.concat([]).map(t=>{let e,a,{x:P,y:v,z:E}=t;if(a=p>=0&&p>=0?s-c*(v-g)/b:g<=0&&g<=0?n+c*(Math.abs(v)-Math.abs(p))/b:v>0?r-h*v/p:r+x*Math.abs(v)/Math.abs(g),e=S>=0&&S>=0?l+d*(P-m)/w:m<=0&&m<=0?o-d*(Math.abs(P)-Math.abs(S))/w:P>0?y+f*P/S:y-u*Math.abs(P)/Math.abs(m),t.positionX=e,t.positionY=a,"number"!=typeof W){t.z=E||0;let e=(E-D)/M;t.radius=i+A*e}else t.radius=W;if("string"!=typeof N){t.z=E||0;let e=(E-D)/M,a=[k[0]+T[0]*e,k[1]+T[1]*e,k[2]+T[2]*e];t.color=function(t){let e,a,i,[l,o,s]=t;if(l/=360,o/=100,s/=100,0===o)e=a=i=s;else{const t=(t,e,a)=>(a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+6*(e-t)*a:a<.5?e:a<2/3?t+(e-t)*(2/3-a)*6:t),n=s<.5?s*(1+o):s+o-s*o,r=2*s-n;e=t(r,n,l+1/3),a=t(r,n,l),i=t(r,n,l-1/3)}const n=t=>{const e=Math.round(255*t).toString(16);return 1===e.length?"0"+e:e};return`#${n(e)}${n(a)}${n(i)}`}(a)}else t.color=N;return t}),t}),this.chartData.chartScatter}function A(){let{opts:t,legendData:e,chartData:a}=this,{width:i,height:l,series:s,padding:n}=t,r=JSON.parse(JSON.stringify(s[0])),{data:h,width:x,height:c,top:y,left:f,right:u,bottom:d,max:p,min:g,gap:b,sort:S,shape:m,funnelAlign:w,label:A,itemStyle:P}=r,D=n[3],M=i-n[1],v=n[0],k=l-n[2]-e.legendHeight,T=M-D,E=k-v;p=p>100?100:p,g=g<0?0:g,D="auto"==f?D:D+T*o(f),M="auto"==u?M:M-T*o(u),v="auto"==y?v:v+E*o(y),k="auto"==d?k:k-E*o(d),T="auto"==x?M-D:T*o(x),E="auto"==c?k-v:E*o(c);let W,L,N=(E-(h.length-1)*b)/h.length;h.forEach(t=>{t.value=t.value>p?p:t.value,t.value=t.value<g?g:t.value,t.width=T*(t.value/p),t.height=N}),"left"==w?(W=D,L=v):"right"==w?(W=M,L=v):(W="ascending"==S?D+h[h.length-1].width/2-h[0].width/2:D,L=v),h.forEach((t,e)=>{let a,i=[];"left"==w?"descending"==S?e+1==h.length?"funnel"==m?(i.push({x:W,y:L}),i.push({x:W+t.width,y:L}),i.push({x:W+t.width,y:L+t.height}),i.push({x:W,y:L+t.height})):"pyramid"==m&&(i.push({x:W,y:L}),i.push({x:W+t.width,y:L}),i.push({x:W,y:L+t.height})):(i.push({x:W,y:L}),i.push({x:W+t.width,y:L}),i.push({x:W+h[e+1].width,y:L+t.height}),i.push({x:W,y:L+t.height})):"ascending"==S&&(0==e?"funnel"==m?(i.push({x:W,y:L}),i.push({x:W+t.width,y:L}),i.push({x:W+t.width,y:L+t.height}),i.push({x:W,y:L+t.height})):"pyramid"==m&&(i.push({x:W,y:L}),i.push({x:W+t.width,y:L+t.height}),i.push({x:W,y:L+t.height})):(i.push({x:W,y:L}),i.push({x:W+h[e-1].width,y:L}),i.push({x:W+t.width,y:L+t.height}),i.push({x:W,y:L+t.height}))):"right"==w?"descending"==S?e+1==h.length?"funnel"==m?(i.push({x:W,y:L}),i.push({x:W-t.width,y:L}),i.push({x:W-t.width,y:L+t.height}),i.push({x:W,y:L+t.height})):"pyramid"==m&&(i.push({x:W,y:L}),i.push({x:W-t.width,y:L}),i.push({x:W,y:L+t.height})):(i.push({x:W,y:L}),i.push({x:W-t.width,y:L}),i.push({x:W-h[e+1].width,y:L+t.height}),i.push({x:W,y:L+t.height})):"ascending"==S&&(0==e?"funnel"==m?(i.push({x:W,y:L}),i.push({x:W-t.width,y:L}),i.push({x:W-t.width,y:L+t.height}),i.push({x:W,y:L+t.height})):"pyramid"==m&&(i.push({x:W,y:L}),i.push({x:W-t.width,y:L+t.height}),i.push({x:W,y:L+t.height})):(i.push({x:W,y:L}),i.push({x:W-h[e-1].width,y:L}),i.push({x:W-t.width,y:L+t.height}),i.push({x:W,y:L+t.height}))):"descending"==S?e+1==h.length?"funnel"==m?(i.push({x:W,y:L}),i.push({x:W+t.width,y:L}),i.push({x:W+t.width,y:L+t.height}),i.push({x:W,y:L+t.height})):"pyramid"==m&&(i.push({x:W,y:L}),i.push({x:W+t.width,y:L}),i.push({x:W+t.width/2,y:L+t.height})):(i.push({x:W,y:L}),i.push({x:W+t.width,y:L}),i.push({x:W+t.width/2+h[e+1].width/2,y:L+t.height}),i.push({x:W+t.width/2-h[e+1].width/2,y:L+t.height})):"ascending"==S&&(0==e?"funnel"==m?(i.push({x:W,y:L}),i.push({x:W+t.width,y:L}),i.push({x:W+t.width,y:L+t.height}),i.push({x:W,y:L+t.height})):"pyramid"==m&&(i.push({x:W+t.width/2,y:L}),i.push({x:W+t.width,y:L+t.height}),i.push({x:W,y:L+t.height})):(i.push({x:W+t.width/2-h[e-1].width/2,y:L}),i.push({x:W+t.width/2+h[e-1].width/2,y:L}),i.push({x:W+t.width,y:L+t.height}),i.push({x:W,y:L+t.height}))),t.point=i,a="descending"==S?e+1==h.length?"funnel"==m?t.width:t.width/2:(t.width+h[e+1].width)/2:0==e?"funnel"==m?t.width:t.width/2:(t.width+h[e-1].width)/2,"inside"==A.position?t.textPoint="left"==w?{x:W+a/2,y:L+t.height/2}:"right"==w?{x:W-a/2,y:L+t.height/2}:{x:W+t.width/2,y:L+t.height/2}:t.textPoint="left"==w?{x:W+a+A.margin,y:L+t.height/2}:"right"==w?{x:W-a-A.margin,y:L+t.height/2}:{x:W+t.width/2+a/2+A.margin,y:L+t.height/2},e+1!==h.length&&("center"==w?(W=W+t.width/2-h[e+1].width/2,L=L+t.height+b):L=L+t.height+b)}),a.chartFunnel=r,this.chartData.chartFunnel}function P(t=0,e=0,a=this.opts.width,i=this.opts.height){this.context.fillStyle=this.opts.backgroundColor,this.context.fillRect(t,e,a,i)}function D(){if(!this.opts.legend.show)return;let{context:t,opts:e,legendData:a}=this,{type:i,legend:l}=e,{type:o,shapeWidth:s,shapeHeight:n,itemGap:r,marginTop:h,textStyle:x}=l,{fontSize:c,color:y,padding:f}=x,{legendList:u,legendWidth:d,legendHeight:p}=a;if("default"==o)switch(i){case"bar":o="rect";break;case"line":o="line";break;case"pie":o="circle";break;case"radar":o="rect";break;case"scatter":o="circle";break;case"funnel":o="rect"}let g=Math.max(n,c),b=e.height-e.padding[2]-p+h,S=(e.width-d)/2;u.forEach((a,i)=>{S=(e.width-d)/2,a.forEach(e=>{switch(o){case"circle":t.beginPath(),t.moveTo(S+s/2,b+g/2),t.arc(S+s/2,b+g/2,s/2,0,2*Math.PI),t.closePath(),t.fillStyle=e.color,t.fill();break;case"line":let a=(s-n)/2;t.beginPath(),t.moveTo(S,b+g/2),t.lineTo(S+a-2,b+g/2),t.closePath(),t.lineWidth=2,t.strokeStyle=e.color,t.stroke(),t.beginPath(),t.moveTo(S+s/2,b+g/2),t.arc(S+s/2,b+g/2,n/2,0,2*Math.PI),t.closePath(),t.fillStyle=e.color,t.fill(),t.beginPath(),t.moveTo(S+a+n+2,b+g/2),t.lineTo(S+s,b+g/2),t.closePath(),t.lineWidth=2,t.strokeStyle=e.color,t.stroke();break;case"rect":t.fillStyle=e.color,n>=c?t.fillRect(S,b,s,n):t.fillRect(S,b+(c-n)/2,s,n)}S+=s+f,t.save(),t.textAlign="left",t.textBaseline="middle",t.font=`${c}px`,t.fillStyle=y,t.fillText(e.name,S,b+g/2),t.restore(),S+=e.measureText+r}),b+=g+r})}function M(){let{context:t,opts:e,chartData:a}=this,{xAxis:i,yAxis:l}=e,{show:o,type:s,axisName:n,axisLabel:r,axisTick:h,axisLine:x,axisSplitLine:c}=i,{show:y,type:f,axisName:u,axisLabel:d,axisTick:p,axisLine:g,axisSplitLine:b}=l,{show:S,textStyle:m}=n,{show:w,textStyle:A,rotate:P}=r,{show:D,lineStyle:M}=h,{show:v,lineStyle:k}=x,{show:T,lineStyle:E}=c,{show:W,textStyle:L}=u,{show:N,textStyle:z}=d,{show:X,lineStyle:Y}=p,{show:I,lineStyle:O}=g,{show:B,lineStyle:_}=b,{color:J,fontSize:$}=m,{color:R,fontSize:H}=A,{color:j,lineWidth:C}=M,{color:G,lineWidth:F}=k,{color:Z,lineWidth:q}=E,{color:K,fontSize:Q}=L,{color:U,fontSize:V}=z,{color:tt,lineWidth:et}=Y,{color:at,lineWidth:it}=O,{color:lt,lineWidth:ot}=_,{xAxisLabelPoint:st,xAxisTickPoint:nt,xAxisLinePoint:rt,xAxisSplitLinePoint:ht,xAxisNamePoint:xt,yAxisLabelPoint:ct,yAxisTickPoint:yt,yAxisLinePoint:ft,yAxisSplitLinePoint:ut,yAxisNamePoint:dt}=a.axisData;y&&(N&&(t.save(),t.font=`${V}px`,t.fillStyle=U,t.textAlign="right",t.textBaseline="middle",ct.forEach(e=>{("value"==f||e.show)&&t.fillText(e.text,e.x,e.y)}),t.restore()),B&&(t.lineWidth=ot,t.strokeStyle=lt,ut.forEach((e,a)=>{("value"==f||e.show)&&(t.beginPath(),t.moveTo(e.startX,e.startY),t.lineTo(e.endX,e.endY),t.closePath(),t.stroke())})),W&&(t.save(),t.font=`${Q}px`,this.opts.yAxis,t.fillStyle=K,t.textAlign="center",t.textBaseline="bottom",t.fillText(dt.text,dt.x,dt.y),t.restore())),o&&(w&&(t.save(),t.font=`${H}px`,t.fillStyle=R,t.textBaseline="top",0==P?t.textAlign="center":P>0?t.textAlign="right":P<0&&(t.textAlign="left"),st.forEach(e=>{("value"==s||e.show)&&(0==P?t.fillText(e.text,e.x,e.y):(t.save(),t.translate(e.x,e.y),t.rotate(-P*Math.PI/180),t.fillText(e.text,0,0),t.restore()))}),t.restore()),T&&(t.lineWidth=q,t.strokeStyle=Z,ht.forEach((e,a)=>{("value"==s||e.show)&&(t.beginPath(),t.moveTo(e.startX,e.startY),t.lineTo(e.endX,e.endY),t.closePath(),t.stroke())})),S&&(t.save(),t.font=`${$}px`,t.fillStyle=J,t.textAlign="left",t.textBaseline="middle",t.fillText(xt.text,xt.x,xt.y),t.restore())),y&&(X&&(t.lineWidth=et,t.strokeStyle=tt,yt.forEach(e=>{("value"==f||e.show)&&(t.beginPath(),t.moveTo(e.startX,e.startY),t.lineTo(e.endX,e.endY),t.closePath(),t.stroke())})),I&&(t.beginPath(),t.moveTo(ft.startX,ft.startY),t.lineTo(ft.endX,ft.endY),t.closePath(),t.lineWidth=it,t.strokeStyle=at,t.stroke())),o&&(D&&(t.lineWidth=C,t.strokeStyle=j,nt.forEach(e=>{("value"==s||e.show)&&(t.beginPath(),t.moveTo(e.startX,e.startY),t.lineTo(e.endX,e.endY),t.closePath(),t.stroke())})),v&&(t.beginPath(),t.moveTo(rt.startX,rt.startY),t.lineTo(rt.endX,rt.endY),t.closePath(),t.lineWidth=F,t.strokeStyle=G,t.stroke()))}function v(){let{context:t,opts:e,chartData:a}=this,{backgroundColor:i,radarAxis:l,categories:o}=e,{shape:s,splitNumber:n,axisName:r,axisLine:h,splitLine:x,splitArea:c}=l,{show:y,textStyle:f}=r,{show:u,lineStyle:d}=h,{show:p,lineStyle:g}=x,{color:b,fontSize:S}=f,{color:m,lineWidth:w}=d,{color:A,lineWidth:P}=g,{odd:D,even:M}=c,{show:v,color:k,opacity:T}=D,{show:E,color:W,opacity:L}=M,{center:N,radius:z,lineEndPosition:X,namePosition:Y}=a.radarAxis,[I,O]=N;if("polygon"==s)X.forEach((e,a)=>{let l=(n-a)%2;t.beginPath(),e.forEach((e,a)=>{0==a?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y)}),t.closePath(),0===l&&v&&(t.fillStyle=i,t.fill(),t.save(),t.globalAlpha=L,t.fillStyle=W,t.fill(),t.restore()),1===l&&E&&(t.fillStyle=i,t.fill(),t.save(),t.globalAlpha=T,t.fillStyle="auto"==k?i:k,t.fill(),t.restore()),p&&(t.lineWidth=P,t.strokeStyle=A,t.stroke())});else for(let e=0;e<n;e++){let a=(n-e)/n,l=(n-e)%2;t.beginPath(),t.arc(I,O,z*a,0,2*Math.PI),0===l&&v&&(t.fillStyle=i,t.fill(),t.save(),t.globalAlpha=L,t.fillStyle=W,t.fill(),t.restore()),1===l&&E&&(t.fillStyle=i,t.fill(),t.save(),t.globalAlpha=T,t.fillStyle="auto"==k?i:k,t.fill(),t.restore()),p&&(t.lineWidth=P,t.strokeStyle=A,t.stroke())}u&&X[0].forEach(e=>{t.beginPath(),t.moveTo(I,O),t.lineTo(e.x,e.y),t.lineWidth=w,t.strokeStyle=m,t.stroke()}),y&&Y.forEach(e=>{let{text:a,point:i,position:l}=e,{x:o}=i,{x:s,y:n}=l;t.save(),s==I?t.textAlign="center":o>0?t.textAlign="left":o<0&&(t.textAlign="right"),t.textBaseline="middle",t.font=`${S}px`,t.fillStyle=b,t.fillText(a,s,n),t.restore()})}function k(t){let{context:e,opts:a,chartData:i}=this,{label:l,xAxis:o}=a,{yMaxData:s,yMinData:n,xMaxData:r,xMinData:h}=i.axisData;o.type,o.type;"category"==o.type?(i.chartBar.forEach((a,i)=>{a.forEach((a,i)=>{a.forEach((a,i)=>{let{x:l,y:o,data:s,barWidth:n,barHeight:r,itemStyle:h}=a,{color:x}=h;e.save(),e.fillStyle=x,s>=0?e.fillRect(l-n/2,o,n,-r*t):e.fillRect(l-n/2,o,n,r*t),e.restore()})})}),1==t&&i.chartBar.forEach((t,a)=>{t.forEach((t,a)=>{t.forEach((t,a)=>{let{show:i,x:o,y:s,barWidth:n,barHeight:r,data:h,label:x,itemStyle:c}=t,{show:y,fontSize:f,color:u,margin:d}=x,{color:p}=c;y=l&&"boolean"==typeof l.show?l.show:y,f=l&&l.fontSize?l.fontSize:f,u=l&&l.color?l.color:u,d=l&&l.margin?l.margin:d,y&&i&&(e.save(),e.font=`${f}px`,e.strokeStyle="auto"==u?p:u,e.fillStyle="#ffffff",e.textBaseline="middle",e.textAlign="center",h>=0?(e.strokeText(h,o,s-r/2),e.fillText(h,o,s-r/2)):(e.strokeText(h,o,s+r/2),e.fillText(h,o,s+r/2)),e.restore())})})})):(i.chartBar.forEach((a,i)=>{a.forEach((a,i)=>{a.forEach((a,i)=>{let{x:l,y:o,data:s,barWidth:n,barHeight:r,itemStyle:h}=a,{color:x}=h;e.save(),e.fillStyle=x,s>0?e.fillRect(l,o-n*t/2,r,n*t):e.fillRect(l,o-n*t/2,-r,n*t),e.restore()})})}),1==t&&i.chartBar.forEach((t,a)=>{t.forEach((t,a)=>{t.forEach((t,a)=>{let{show:i,x:o,y:s,barWidth:n,barHeight:r,data:h,label:x,itemStyle:c}=t,{show:y,fontSize:f,color:u,margin:d}=x,{color:p}=c;y=l&&"boolean"==typeof l.show?l.show:y,f=l&&l.fontSize?l.fontSize:f,u=l&&l.color?l.color:u,d=l&&l.margin?l.margin:d,y&&i&&(e.save(),e.font=`${f}px`,e.strokeStyle="auto"==u?p:u,e.fillStyle="#ffffff",e.textBaseline="middle",e.textAlign="center",h>=0?(e.strokeText(h,o+r/2,s),e.fillText(h,o+r/2,s)):(e.strokeText(h,o-r/2,s),e.fillText(h,o-r/2,s)),e.restore())})})}))}function T(t){let{context:e,opts:a,chartData:i}=this,{label:l,xAxis:o}=a,{xStart:s,xEnd:n,yStart:r,yEnd:h,yZero:x,xZero:c,yMaxData:y,yMinData:f,xMaxData:u,xMinData:d}=i.axisData,p="value"==o.type?u:y,g="value"==o.type?d:f;function b(t,e){return!(!t[e-1]||!t[e+1])&&(t[e].y>=Math.max(t[e-1].y,t[e+1].y)||t[e].y<=Math.min(t[e-1].y,t[e+1].y))}function S(t,a){let{show:i,lineWidth:l,color:o,opacity:s}=t,{color:n}=a;i&&(e.save(),e.lineJoin="round",e.globalAlpha=s,e.lineWidth=l,e.strokeStyle="auto"==o?n:o,e.stroke(),e.restore())}function m(t,a,i,l,y,f){let{show:u,color:d,opacity:b}=t,{color:S}=a;u&&("category"==o.type?p>=0&&g>=0?(e.lineTo(y,r),e.lineTo(i,r)):p<=0&&g<=0?(e.lineTo(y,h),e.lineTo(i,h)):(e.lineTo(y,x),e.lineTo(i,x)):p>=0&&g>=0?(e.lineTo(s,f),e.lineTo(s,l)):p<=0&&g<=0?(e.lineTo(n,f),e.lineTo(n,l)):(e.lineTo(c,f),e.lineTo(c,l)),e.closePath(),e.save(),e.globalAlpha=b,e.fillStyle="auto"==d?S:d,e.fill(),e.restore())}JSON.parse(JSON.stringify(i.chartLine)).forEach(a=>{let i,s,n,r,{itemStyle:h,line:x,symbol:c,area:y,label:f,smooth:u,connectNulls:d}=a,{color:w}=h,{show:A,type:P,size:D,color:M}=c,{show:v,fontSize:k,color:T,margin:E}=f;if(u){a.data=a.data.map(e=>{let{x:a,y:i,height:l,data:s}=e;return"category"==o.type?e.y=p>=0&&g>=0?i+l-l*t:p<=0&&g<=0?i-l+l*t:s>0?i+l-l*t:i-l+l*t:e.x=p>=0&&g>=0?a-l+l*t:p<=0&&g<=0?a+l-l*t:s>0?a-l+l*t:a+l-l*t,e}),a.validData=a.data.filter(t=>"number"==typeof t.data),(d?a.validData:a.data).forEach((t,a,l)=>{const o=.2,c=.2;let f=null,u=null,p=null,g=null,{x:w,y:A,data:P}=t;if("number"==typeof P)if(i&&s){let t=a-1;if(t<1?(f=l[0].x+(l[1].x-l[0].x)*o,u=l[0].y+(l[1].y-l[0].y)*o):(f=l[t].x+(l[t+1].x-l[t-1].x)*o,u=l[t].y+(l[t+1].y-l[t-1].y)*o),t>l.length-3){let t=l.length-1;p=l[t].x-(l[t].x-l[t-1].x)*c,g=l[t].y-(l[t].y-l[t-1].y)*c}else p=l[t+1].x-(l[t+2].x-l[t].x)*c,g=l[t+1].y-(l[t+2].y-l[t].y)*c;b(l,t+1)&&(g=l[t+1].y),b(l,t)&&(u=l[t].y),e.bezierCurveTo(f,u,p,g,w,A),n=w,r=A}else e.beginPath(),e.moveTo(w,A),i=w,s=A;(!d&&"number"!=typeof P||a+1==l.length)&&(n&&r&&(S(x,h),m(y,h,i,s,n,r),n=null,r=null),i=null,s=null)})}else a.data.forEach((a,l,c)=>{let{x:f,y:u,height:b,data:w}=a;"category"==o.type?u=p>=0&&g>=0?u+b-b*t:p<=0&&g<=0?u-b+b*t:w>0?u+b-b*t:u-b+b*t:f=p>=0&&g>=0?f-b+b*t:p<=0&&g<=0?f+b-b*t:w>0?f-b+b*t:f+b-b*t,"number"==typeof w&&(i&&s?(e.lineTo(f,u),n=f,r=u):(e.beginPath(),e.moveTo(f,u),i=f,s=u)),(!d&&"number"!=typeof w||l+1==c.length)&&n&&r&&(S(x,h),m(y,h,i,s,n,r),i=null,s=null,n=null,r=null)});1==t&&(A&&(e.save(),a.data.forEach(t=>{let{x:a,y:i,data:l}=t;if("number"==typeof l)switch(P){case"circle":e.beginPath(),e.arc(a,i,D/2,0,2*Math.PI),e.fillStyle="auto"==M?w:M,e.fill(),e.beginPath(),e.arc(a,i,D/4,0,2*Math.PI),e.fillStyle="#fff",e.fill()}}),e.restore()),v=l&&"boolean"==typeof l.show?l.show:v,k=l&&l.fontSize?l.fontSize:k,T=l&&l.color?l.color:T,E=l&&l.margin?l.margin:E,v&&(e.save(),e.font=`${k}px`,e.fillStyle="auto"==T?w:T,e.textAlign="center",a.data.forEach(t=>{let{x:a,y:i,data:l}=t;"number"==typeof l&&("category"==o.type?p>=0&&g>=0?(e.textBaseline="bottom",e.fillText(l,a,i-E)):p<=0&&g<=0?(e.textBaseline="top",e.fillText(l,a,i+E)):l?(e.textBaseline="bottom",e.fillText(l,a,i-E)):(e.textBaseline="top",e.fillText(l,a,i+E)):(e.textBaseline="bottom",e.fillText(l,a,i-E)))}),e.restore()))})}function E(t){let{context:e,opts:a,chartData:o}=this,{backgroundColor:s,label:n}=a,{data:r,center:h,radius:x,format:c,offsetAngle:y,disablePieStroke:f,valueSum:u}=o.chartPie,[d,p]=h,[g,b]=x,S=0;if(r.forEach(a=>{a._proportion_=a.value/u*t,a._start_=S,0!==y&&(a._start_+=y*Math.PI/180),e.beginPath(),e.moveTo(d,p),e.arc(d,p,b,a._start_,a._start_+2*a._proportion_*Math.PI),e.lineWidth=2,e.strokeStyle=s,e.fillStyle=a.itemStyle.color,e.fill(),f||e.stroke(),g>0&&(e.beginPath(),e.moveTo(d,p),e.arc(d,p,g,a._start_,a._start_+2*a._proportion_*Math.PI),e.fillStyle=s,e.strokeStyle=s,e.stroke(),e.fill()),S+=2*a._proportion_*Math.PI}),1==t){let{label:t,labelLine:a}=o.chartPie,{show:s,fontSize:x,color:y,margin:f}=t,{length1:u,length2:d,lineWidth:p,lineDotRadius:g}=a,S=b+u,m=null;s=n&&"boolean"==typeof n.show?n.show:s,x=n&&n.fontSize?n.fontSize:x,y=n&&n.color?n.color:y,f=n&&n.margin?n.margin:f,s&&r.forEach((t,a)=>{let o=2*Math.PI-(t._start_+2*Math.PI*t._proportion_/2),s=c?c(t.value,name):`${(100*+t._proportion_).toFixed(2)}%`,n={x:Math.cos(o)*b,y:Math.sin(o)*b},r={x:Math.cos(o)*S,y:Math.sin(o)*S},u={x:r.x>=0?r.x+d:r.x-d,y:r.y};u=function(t,e,a){if(e)for(;l(t,e,a);)t.x>0?t.y--:t.x<0&&t.y++;return t}(u,m,2*Math.max(g,x/2)),m=u;let w=i(n,h),A=i(r,h),P=i(u,h);e.font=`${x}px`;let D=e.measureText(s).width,M=Object.assign({},P);u.x>0?M.x+=g+f:M.x-=D+g+f,e.beginPath(),e.moveTo(w.x,w.y),e.quadraticCurveTo(A.x,A.y,P.x,P.y),e.lineWidth=p,e.strokeStyle=t.itemStyle.color,e.stroke(),e.closePath(),e.beginPath(),e.moveTo(P.x,P.y),e.arc(P.x,P.y,g,0,2*Math.PI),e.closePath(),e.fillStyle=t.itemStyle.color,e.fill(),e.font=`${x}px`,e.textBaseline="middle",e.fillStyle="auto"==y?t.itemStyle.color:y,e.fillText(s,M.x,M.y)})}}function W(t){let{context:e,opts:a,chartData:l}=this,{label:o}=a,{center:s}=l.radarAxis;l.chartRadar.forEach(a=>{let{dataPosition:l,itemStyle:n,area:r,line:h,symbol:x,label:c}=a,{show:y,color:f,opacity:u}=r,{show:d,lineWidht:p,color:g,opacity:b}=h,{show:S,type:m,size:w,color:A}=x,{show:P,fontSize:D,color:M,margin:v}=c;if(e.beginPath(),l.forEach((a,l)=>{let o=JSON.parse(JSON.stringify(a.point));o.x=o.x*t,o.y=o.y*t;let n=i(o,s),{x:r,y:h}=n;a.position=n,0==l?e.moveTo(r,h):e.lineTo(r,h)}),e.closePath(),y&&(e.save(),e.globalAlpha=u,e.fillStyle="auto"==f?n.color:f,e.fill(),e.stroke(),e.restore()),d&&(e.save(),e.lineWidht=p,e.globalAlpha=b,e.strokeStyle="auto"==g?n.color:g,e.stroke(),e.restore()),1==t){if(S)switch(m){case"circle":e.save(),l.forEach(t=>{let{x:a,y:i}=t.position;e.beginPath(),e.arc(a,i,w/2,0,2*Math.PI),e.fillStyle="auto"==A?n.color:A,e.fill(),e.beginPath(),e.arc(a,i,w/4,0,2*Math.PI),e.fillStyle="#fff",e.fill()}),e.restore()}P=o&&"boolean"==typeof o.show?o.show:P,D=o&&o.fontSize?o.fontSize:D,M=o&&o.color?o.color:M,v=o&&o.margin?o.margin:v,P&&(e.save(),e.font=`${D}px`,e.fillStyle="auto"==M?n.color:M,e.textAlign="center",e.textBaseline="bottom",l.forEach(t=>{let{x:a,y:i}=t.position;e.fillText(t.data,a,i-v)}))}})}function L(t){let{context:e,opts:a,chartData:i}=this,{label:l}=a;i.chartScatter.forEach(a=>{let{name:i,data:o,label:s,itemStyle:n,opacity:r,lineWidth:h,strokeColor:x}=a,{show:c,fontSize:y,color:f,margin:u}=s,{color:d}=n;o.forEach(a=>{let{positionX:i,positionY:l,radius:o,color:s}=a;e.save(),e.beginPath(),e.arc(i,l,o*t,0,2*Math.PI),h>0&&(e.strokeStyle="auto"==x?s:x,e.lineWidth=0,e.stroke()),e.fillStyle=s,e.globalAlpha=r,e.fill(),e.restore()}),1==t&&(c=l&&"boolean"==typeof l.show?l.show:c,y=l&&l.fontSize?l.fontSize:y,f=l&&l.color?l.color:f,u=l&&l.margin?l.margin:u,c&&(e.save(),e.font=`${y}px`,e.fillStyle="auto"==f?d:f,o.forEach(t=>{let{y:a,z:l,radius:o,name:s,positionX:n,positionY:r}=t,h=s||(l||i);"string"!=typeof d?(e.textAlign="center",e.textBaseline="bottom",e.fillText(h,n,r-o-u)):(e.textAlign="center",e.textBaseline="middle",e.fillText(h,n,r))}),e.restore()))})}function N(t){let{context:e,opts:a,chartData:i}=this,{data:l,funnelAlign:o,itemStyle:s,label:n}=i.chartFunnel,{borderColor:r,borderWidth:h}=s;if(l.forEach(a=>{let{point:i,itemStyle:l}=a,{color:o}=l;e.beginPath(),i.forEach((a,i)=>{let{x:l,y:o}=a;0==i?e.moveTo(l,o*t):e.lineTo(l,o*t)}),e.closePath(),h>0&&(e.strokeStyle=r,e.lineWidth=h,e.stroke()),e.fillStyle=o,e.fill()}),1==t){let{label:t}=a,{show:i,fontSize:s,color:r,margin:h,position:x}=n;i=t&&"boolean"==typeof t.show?t.show:i,s=t&&t.fontSize?t.fontSize:s,r=t&&t.color?t.color:r,h=t&&t.margin?t.margin:h,i&&(e.save(),l.forEach(t=>{let{name:a,itemStyle:i,textPoint:l}=t,{x:n,y:h}=l;"inside"==x?(e.textAlign="center",e.textBaseline="middle",e.font=`${s}px`,e.strokeStyle=i.color,e.fillStyle="#ffffff",e.strokeText(a,n,h),e.fillText(a,n,h)):(e.textAlign="right"==o?"right":"left",e.textBaseline="middle",e.font=`${s}px`,e.fillStyle="auto"==r?i.color:r,e.fillText(a,n,h))}),e.restore())}}function z(){let{type:t,animation:e,animationDuration:a,animationTiming:i}=this.opts,l=function(){};switch(this.animationInstance&&this.animationInstance.stop(),f.call(this),u.call(this),t){case"bar":d.call(this),g.call(this),l=t=>{P.call(this),M.call(this),k.call(this,t),1==t&&D.call(this)};break;case"line":d.call(this),b.call(this),l=t=>{P.call(this),M.call(this),T.call(this,t),1==t&&D.call(this)};break;case"pie":S.call(this),l=t=>{P.call(this),E.call(this,t),1==t&&D.call(this)};break;case"radar":p.call(this),m.call(this),l=t=>{P.call(this),v.call(this),W.call(this,t),1==t&&D.call(this)};break;case"scatter":d.call(this),w.call(this),l=t=>{P.call(this),M.call(this),L.call(this,t),1==t&&D.call(this)};break;case"funnel":A.call(this),l=t=>{P.call(this),N.call(this,t),1==t&&D.call(this)}}this.animationInstance=new y({type:t,animation:e,animationDuration:a,animationTiming:i,onProcess:l,onAnimationFinish:()=>{this.event.trigger("renderComplete")}})}export default class{constructor(a={}){this.config=Object.assign({},e),this.opts=Object.assign({},a),this.context=this.opts.element.getContext("2d"),this.chartData={},this.event=new t,this.event.addEventListener("renderComplete",a.onRenderComplete),h.call(this),z.call(this)}updateData(t={}){"pie"==this.opts.type||"funnel"==this.opts.type?Object.keys(t).forEach(e=>{r(e,t,this.opts,!0)}):Object.keys(t).forEach(e=>{"series"==e?(this.opts.series=JSON.parse(JSON.stringify(t.series)),x.call(this)):r(e,t,this.opts,!0)}),z.call(this)}}
//# sourceMappingURL=qacharts-min.js.map
